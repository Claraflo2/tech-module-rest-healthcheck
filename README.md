![](https://dev.lutece.paris.fr/jenkins/buildStatus/icon?job=module-rest-healthcheck-deploy)
[![Alerte](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Amodule-rest-healthcheck&metric=alert_status)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Amodule-rest-healthcheck)
[![Line of code](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Amodule-rest-healthcheck&metric=ncloc)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Amodule-rest-healthcheck)
[![Coverage](https://dev.lutece.paris.fr/sonar/api/project_badges/measure?project=fr.paris.lutece.plugins%3Amodule-rest-healthcheck&metric=coverage)](https://dev.lutece.paris.fr/sonar/dashboard?id=fr.paris.lutece.plugins%3Amodule-rest-healthcheck)

# Plugin rest-healthcheck

## Introduction

This plugin allows you to set up an application Healthcheck REST service.

This healthcheck service implements eclipse / microprofile-health API.

Several types of checks can be performed

## Configuration

HealCheck classes must implement the I(...)HealthCheck interfaces, and must be injected into the context.

Some HealthCheck implementations are provided :

 
* Database access
* Forced state for the instance stored in the DATASTORE table. The key corresponds to the instance name + ".health"(instance name is set with the lutece.webapp.instance property). Value must be "UP" (or missing) or "Down".
* CPU Usage
* Memory usage

## Usage

Enable plugin-rest and module rest-healthcheck.

The healthcheck url will be :

http://[domain]/[webapp]/rest/healthcheck/api/v1/health

The returned result will have a status of 200 (OK) or 503 (service unavailable) if at least one test fails.

Ex : {"result":[{"name":"DB.Healthcheck","message":"SELECT 1","status":"UP"}],"status":"OK"}

To check only @readiness HealthChecks: /rest/healthcheck/api/v1/health/ready

To check only @liveness HealthChecks: /rest/healthcheck/api/v1/health/live


[Maven documentation and reports](https://dev.lutece.paris.fr/plugins/module-rest-healthcheck/)



 *generated by [xdoc2md](https://github.com/lutece-platform/tools-maven-xdoc2md-plugin) - do not edit directly.*